document.addEventListener('DOMContentLoaded',function(){if (typeof THREE !=='undefined'){const container=document.getElementById('canvas-container');if (container){const scene=new THREE.Scene();const camera=new THREE.PerspectiveCamera(75,container.clientWidth / container.clientHeight,.1,1000);const renderer=new THREE.WebGLRenderer({alpha:true});const clock=new THREE.Clock();renderer.setSize(container.clientWidth,container.clientHeight);renderer.setPixelRatio(window.devicePixelRatio);container.appendChild(renderer.domElement);const productGroup=new THREE.Group();scene.add(productGroup);const textureLoader=new THREE.TextureLoader();const productImageUrls=["assets/images/relogioponto.webp","assets/images/relogiodeponto02.webp","assets/images/relogioponto03.webp"];let loadedProductTextures=[];let currentTextureIndex=0;let lastTextureChangeTime=0;const transitionInterval=5;let texturesLoadedCount=0;const totalTextures=productImageUrls.length;const productGeometry=new THREE.PlaneGeometry(7,7);const productMaterial=new THREE.MeshStandardMaterial({metalness:.2,roughness:.6,transparent:true,opacity:1});const productPlane=new THREE.Mesh(productGeometry,productMaterial);productPlane.position.z=0.1;productGroup.add(productPlane);productImageUrls.forEach((url,index)=>{textureLoader.load(url,(texture)=>{loadedProductTextures[index]=texture;texturesLoadedCount++;if (texturesLoadedCount===totalTextures){productPlane.material.map=loadedProductTextures[currentTextureIndex];productPlane.material.needsUpdate=true;const aspectRatio=loadedProductTextures[currentTextureIndex].image.width / loadedProductTextures[currentTextureIndex].image.height;productPlane.scale.set(aspectRatio * 1,1,1);lastTextureChangeTime=clock.getElapsedTime()}},undefined,(err)=>{console.error(`Erro ao carregar a textura ${url}:`,err);texturesLoadedCount++;if (texturesLoadedCount===totalTextures && !productPlane.material.map){productPlane.material.color.set(0x666666)}})});const ambientLight=new THREE.AmbientLight(0xffffff,.8);scene.add(ambientLight);const directionalLight=new THREE.DirectionalLight(0xffffff,1);directionalLight.position.set(5,5,5);scene.add(directionalLight);camera.position.z=5;let mouseX=0;let mouseY=0;function onMouseMove(event){mouseX=(event.clientX / window.innerWidth) * 2 - 1;mouseY=-(event.clientY / window.innerHeight) * 2+1}window.addEventListener('mousemove',onMouseMove);function animate(){requestAnimationFrame(animate);const elapsedTime=clock.getElapsedTime();if (texturesLoadedCount===totalTextures && elapsedTime - lastTextureChangeTime>=transitionInterval){currentTextureIndex=(currentTextureIndex+1) % totalTextures;productPlane.material.map=loadedProductTextures[currentTextureIndex];productPlane.material.needsUpdate=true;const aspectRatio=loadedProductTextures[currentTextureIndex].image.width / loadedProductTextures[currentTextureIndex].image.height;productPlane.scale.set(aspectRatio * .8,.8,1);lastTextureChangeTime=elapsedTime}productGroup.rotation.y+=(mouseX * .4 - productGroup.rotation.y) * .04;productGroup.rotation.x+=(-mouseY * .4 - productGroup.rotation.x) * .04;renderer.render(scene,camera)}window.addEventListener('resize',()=>{if (container.clientWidth>0 && container.clientHeight>0){camera.aspect=container.clientWidth / container.clientHeight;camera.updateProjectionMatrix();renderer.setSize(container.clientWidth,container.clientHeight)}});animate()}else{console.error('Container do canvas não encontrado.')}}else{console.error('Three.js não foi carregado.')}const quoteForm=document.getElementById('quoteForm');if (quoteForm){quoteForm.addEventListener('submit',function(event){event.preventDefault();const companyName=document.getElementById('companyName').value;const numEmployeesRadio=document.querySelector('input[name="numEmployees"]:checked');const numEmployees=numEmployeesRadio ? numEmployeesRadio.value :'Não informado';const whatsappNumber='+5522999342494';const message=`Olá,Líder Brasil Informática! Gostaria de uma cotação para o relógio de ponto Control ID.\n\n`+`Nome da Empresa (Razão Social):${companyName}\n`+`Quantidade de Funcionários:${numEmployees}\n\n`+`Aguardamos seu contato!`;const encodedMessage=encodeURIComponent(message);const whatsappLink=`https://wa.me/${whatsappNumber}?text=${encodedMessage}`;window.open(whatsappLink,'_blank')})}if (typeof Swiper !=='undefined'){var swiper=new Swiper('.swiper-container',{slidesPerView:1,spaceBetween:30,loop:true,grabCursor:true,pagination:{el:'.swiper-pagination',clickable:true,},navigation:{nextEl:'.swiper-button-next',prevEl:'.swiper-button-prev',},breakpoints:{768:{slidesPerView:2,spaceBetween:30},1024:{slidesPerView:3,spaceBetween:40}}})}else{console.error('Swiper.js não foi carregado.')}});